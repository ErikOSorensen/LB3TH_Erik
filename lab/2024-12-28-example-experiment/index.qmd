---
title: "Example Lab Note: Filter Response Analysis"
description: "Demonstrating R and Python computation in a lab note"
date: 2024-12-28
categories: [example-project]
---

This is an example lab note demonstrating how to use R and Python for computations.

## Introduction

Today I measured the frequency response of a simple LC bandpass filter centered around 7 MHz.

## Python Analysis

Here's a Python code block that generates a simulated filter response:

```{python}
#| label: fig-filter-response
#| fig-cap: "Simulated bandpass filter response"

import numpy as np
import matplotlib.pyplot as plt

# Frequency range (MHz)
freq = np.linspace(1, 15, 500)

# Simple bandpass response simulation
f0 = 7.0  # Center frequency (MHz)
Q = 10    # Quality factor
response = 1 / np.sqrt(1 + Q**2 * (freq/f0 - f0/freq)**2)

# Convert to dB
response_db = 20 * np.log10(response)

plt.figure(figsize=(8, 5))
plt.plot(freq, response_db, 'b-', linewidth=2)
plt.xlabel('Frequency (MHz)')
plt.ylabel('Response (dB)')
plt.title('7 MHz Bandpass Filter Response')
plt.grid(True, alpha=0.3)
plt.axhline(y=-3, color='r', linestyle='--', label='-3 dB')
plt.legend()
plt.tight_layout()
plt.show()
```

## R Analysis

Here's an R code block calculating the -3 dB bandwidth:

```{r}
#| label: bandwidth-calc

# Filter parameters
f0 <- 7.0  # Center frequency (MHz)
Q <- 10    # Quality factor

# Calculate -3 dB bandwidth
bandwidth <- f0 / Q

cat(sprintf("Center frequency: %.1f MHz\n", f0))
cat(sprintf("Quality factor: %.0f\n", Q))
cat(sprintf("-3 dB bandwidth: %.2f MHz\n", bandwidth))
cat(sprintf("Lower cutoff: %.2f MHz\n", f0 - bandwidth/2))
cat(sprintf("Upper cutoff: %.2f MHz\n", f0 + bandwidth/2))
```

## Measurements

| Frequency (MHz) | Measured (dB) | Simulated (dB) |
|-----------------|---------------|----------------|
| 5.0             | -8.2          | -8.0           |
| 6.0             | -3.1          | -3.0           |
| 7.0             | 0.0           | 0.0            |
| 8.0             | -2.9          | -3.0           |
| 9.0             | -7.8          | -8.0           |

## Conclusions

The measured response closely matches the simulation. The filter shows good selectivity with the expected -3 dB bandwidth of approximately 0.7 MHz.

## Next Steps

- Measure with higher resolution around the passband
- Test with different load impedances
- Compare with SPICE simulation
